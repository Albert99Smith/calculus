\documentclass{ximera}

\input{../preamble.tex}

\title[Dig-In:]{Basic antiderivatives}

\begin{document}
\begin{abstract}
  We introduce antiderivatives.
\end{abstract}
\maketitle


Computing derivatives is not too difficult. At this point, you should
be able to take the derivative of almost any function you can write
down. However, undoing derivatives is much harder. This process of
undoing a derivative is called taking an \textit{antiderivative}.

\begin{definition}
A function $F$ is called an \dfn{antiderivative} of $f$ on an
interval if
\[
F'(x) = f(x)
\]
for all $x$ in the interval.
\end{definition}

%% \begin{question} BADBAD
%%   Give three antiderivatives of $f(x) = 2x$.  
%%   \[F_1(x) = \answer[antiderivative]{2x} \]
%%   \[F_2(x) = \answer[antiderivative]{2x} \]
%%   \[F_3(x) = \answer[antiderivative]{2x} \]
%% \end{question}

\begin{question}
  How many antiderivatives does $f(x) = 2x$ have?
  \begin{multipleChoice}
    \choice{none}
    \choice{one}
    \choice[correct]{infinitely many}
  \end{multipleChoice}
  \begin{feedback}
    The functions $x^2$, $x^2+1$, $x^2-5$, and so on, are all
    antiderivatives of $2x$.
  \end{feedback}
\end{question}

There are two common ways to notate antiderivatives, either with a
capital letter or with a funny symbol:

\begin{definition}\index{antiderivative!notation}\index{indefinite integral}
The antiderivative is denoted by
\[
\int f(x) \d x = F(x)+C,
\]
where $dx$ identifies $x$ as the variable and $C$ is a constant
indicating that there are many possible antiderivatives, each varying by
the addition of a constant.  This is often called the
\dfn{indefinite integral}.
\end{definition}

Fill out these basic antiderivatives. Note each of these examples comes
directly from our knowledge of basic derivatives.

%% BADBAD - we want this back.
%% \begin{theorem}[Basic Antiderivatives]\label{theorem:basicAnti} \hfil
%% %\begin{multicols}{3}
%% %\todo{Originally this was done with the multicols environment}
%% \begin{question}
%% \begin{itemize}
%% \item An antiderivative of  $k$ is $\answer[antiderivative]{k}$
%% \item An antiderivative of $x^n$, for $n \neq -1$,  is $\answer[antiderivative]{x^n}$
%% \item An antiderivative of  $e^x$ is $\answer[antiderivative]{e^x}$
%% % Is this really needed? \item $\int a^x \d x= \frac{a^x}{\ln(a)}+C$.
%% \item An antiderivative of  $\frac{1}{x}$ is $\answer[antiderivative]{1/x}$. (Be careful that your answer makes works on the full domain, not just $(0,\infty)$)
%% \item An antiderivative of $\cos(x)$ is  $\answer[antiderivative]{\cos(x)}$.
%% \item An antiderivative of $\sin(x)$ is $\answer[antiderivative]{\sin(x)}$.  
%% \item An antiderivative of $\tan(x)$ is $\answer[antiderivative]{\tan(x)}$.  
%% \item An antiderivative of $\sec^2(x)$ is $\answer[antiderivative]{\sec^2(x)}$. 
%% \item An antiderivative of $\csc^2(x)$ is $\answer[antiderivative]{\csc^2(x)}$.
%% \item An antiderivative of $\sec(x)\tan(x)$ is $\answer[antiderivative]{\sec(x)\tan(x)}$.
%% \item An antiderivative of $\csc(x)\cot(x)$ is $\answer[antiderivative]{\csc(x)\cot(x)}$.
%% \item An antiderivative of $\frac{1}{x^2+1}$ is $\answer[antiderivative]{\frac{1}{1+x^2}}$.
%% \item An antiderivative of $\frac{1}{\sqrt{1-x^2}}$ is $\answer[antiderivative]{\frac{1}{\sqrt{1-x^2}}}$.
%% \end{itemize}
%% \end{question}
%% \end{theorem}
\begin{theorem}[Basic Antiderivatives]\label{theorem:basicAnti} \hfil
%\begin{multicols}{3}
\begin{itemize}
\item $\int k \d x= kx+C$
\item $\int x^n \d x= \frac{x^{n+1}}{n+1}+C\qquad(n\ne-1)$
\item $\int e^x \d x= e^x + C$
\item $\int a^x \d x= \frac{a^x}{\ln(a)}+C$
\item $\int \frac{1}{x} \d x= \ln|x|+C$
\item $\int \cos(x) \d x = \sin(x) + C$
\item $\int \sin(x) \d x = -\cos(x) + C$  
\item $\int \tan(x) \d x = -\ln|\cos(x)| + C$  
\item $\int \sec^2(x) \d x = \tan(x) + C$ 
\item $\int \csc^2(x) \d x = -\cot(x) + C$
\item $\int \sec(x)\tan(x) \d x = \sec(x) + C$
\item $\int \csc(x)\cot(x) \d x = -\csc(x) + C$
\item $\int \frac{1}{x^2+1}\d x = \arctan(x) + C$
\item $\int \frac{1}{\sqrt{1-x^2}}\d x= \arcsin(x)+C$
\end{itemize}
%\end{multicols}
\end{theorem}

It may seem that one could simply memorize these antiderivatives and
antidifferentiating would be as easy as differentiating. This is
\textbf{not} the case. The issue comes up when trying to combine these
functions.  When taking derivatives we have the \textit{product rule}
and the \textit{chain rule}. The analogues of these two rules are much
more difficult to deal with when taking antiderivatives. However, not
all is lost. 

First, consider the following example.
\begin{example}
  Find  an antiderivative of the function $h$ defined by expression
  
   $h(x)=\cos{x}+\frac{1}{x}$, for all $x$ in some interval $I$.
  \begin{multipleChoice}
    \choice{$H(x)=\cos{x}+\frac{1}{x}$}
    \choice{$H(x)=\sin{x}+\frac{1}{x^2}$}
    \choice[correct]{$H(x)=\sin{x}+\ln{x}$}
  \end{multipleChoice}
  \begin{feedback}
    Differentiate each choice.
    
     In part (c) we get $H'(x)=\cos{x}+\frac{1}{x}=h(x)$.
  \end{feedback}
\end{example}
It is easy to recognize an antiderivative: we just have to differentiate it, and check wether $H'(x)=h(x)$, for all $x$ in $I$.

Notice, that the function $h$ is the sum of the two functions, $f$ and $g$, where $f(x)=\cos{x}$ and $g(x)=\frac{1}{x}$.

We know antiderivatives of both functions:  $F(x)=\sin{x}$ and $G(x)=\ln{x}$ are antiderivatives of $f$ and $g$, respectively.
So, in this example we see that the function  $F+G$ is an antiderivative of $f+g$.
In other words, the sum of antiderivatives is an antiderivative of a sum.

Is this true in general? 

Let's check whether this rule holds for any eligible pair of functions $f$ and $g$ defined on some interval $I$.
 \begin{question}
Let $f$, $g$, $F$ and $G$ be four functions defined on some interval $I$ such that $F$ is an antiderivative of $f$ and $G$ is an antiderivative of $g$, i.e.

$F'(x)=f(x)$ and $G'(x)=g(x)$ for all $x$ in some interval $I$.

  Find an antiderivative of the function $f+g$.
    \begin{hint}
    Differentiate the function $F+G$.
     \end{hint}
     Since
     $\left(F(x)+G(x)\right)'=F'(x)+G'(x)=f(x)+g(x)$,
     
     
   it follows that  $F+G$ is an antiderivative of $f+g$. 
 
 To summarize: The sum of antiderivatives is an antiderivative of a sum. 
\end{question}
We have proved the following theorem.
\begin{theorem}[The Sum Rule for Antiderivatives]\label{theorem:SRA}
If $F$ is an antiderivative of $f$ and $G$ is an antiderivative of
$g$, then $F+G$ is an antiderivative of $f+g$.

We can write equivalently, using indefinite integrals, 

$\int \left(f(x)+g(x)\right) \d x= \int f(x)\d x +\int g(x) \d x$.
\end{theorem}

Next, we will try to prove an analogue of the constant multiple rule for derivatives.
Let's consider the following example.
\begin{example}
  Find  an antiderivative of the function $h$, where
  
   $h(x)=5\sec^{2}{x}$,  for $x$ in some interval $I$.
  \begin{multipleChoice}
  \choice[correct]{$H(x)=5\tan{x}$}
    \choice{$H(x)=5\sec^{2}{x}$}
    \choice{$H(x)=\sec^{2}{5x}$}
  \end{multipleChoice}
  \begin{feedback}
    Differentiate each choice for $H(x)$.
    
     In part (a) we get $H'(x)=5\sec^{2}{x}=h(x)$.
  \end{feedback}
\end{example}
It is easy to recognize an antiderivative: we just have to differentiate it, and check wether $H'(x)=h(x)$, for all $x$ in $I$.

Notice, in this example the function $h$ is a constant multiple of $f$, 

where $f(x)=\sec^{2}{x}$. We also happen to know that the function $F$, defined by 
$F(x)=\tan{x}$ is an antiderivative of $f$.

If we  differentiate the function $5F$, we get that

  $\left(5F(x)\right)'=\left(5\tan{x}\right)'=5\left(\tan{x}\right)'=5\sec^{2}{x}=5f(x)$, for $x$ in $I$.
  
  In other words, a constant multiple of an antiderivative is an antiderivative of a constant multiple of a function.
Is this always true?

Let's check whether this rule holds for  any constant $k$ and any eligible  function $f$ defined on some interval $I$.
 \begin{question}
Let $k$ be a constant, let $f$ be a function defined on some interval $I$ and let $F$ be an antiderivative of $f$, i.e.

$F'(x)=f(x)$, for  $x$ in some interval $I$.

  Find an antiderivative of the function $k f$.
    \begin{hint}
    Differentiate the function $kF$.
     \end{hint}
     Since
     $\left(kF(x)\right)'=kF'(x)=kf(x)$,
     
     
   it follows that  $kF$ is an antiderivative of $kf$. 
 
 To summarize: The constant multiple of an antiderivative is an antiderivative of a constant multiple of a function. 
\end{question}
We have proved the following theorem.
\begin{theorem}[The Constant Factor Rule for Antiderivatives]\label{theorem:CFRA}
If $F$ is an antiderivative of $f$, and $k$ is a constant, then $kF$
is an antiderivative of $kf$.

We can write equivalently, using indefinite integrals, 

$\int kf(x) \d x= k\int f(x)\d x$.
\end{theorem}
Let's put these rules and our knowledge of basic derivatives to work.
\begin{example}
Find the antiderivative of $3 x^7$.
\begin{explanation}
By the theorems above , we see that
\begin{align*}
\int 3 x^7 \d x &= 3 \int x^7 \d x\\
&= 3 \cdot \answer[given]{\frac{x^8}{8}}+C.
\end{align*}
\end{explanation}
\end{example}
The sum rule for antiderivatives allows us to integrate
term-by-term. Let's see an example of this.

\begin{example}
Compute:
\[
\int \left(x^4 + 5x^2 - \cos(x)\right) \d x
\]
\begin{explanation}
Let's start by simplifying the problem using the sum rule 
 and constant factor rule for antiderivatives, 
\begin{align*}
\int &\left(x^4 + 5x^2 - \cos(x)\right) \d x\\
&= \int x^4 \d x + 5\int x^2 \d x - \int \cos(x) \d x.
\end{align*}
Now we may integrate term-by-term to find
\[
= \answer[given]{\frac{x^5}{5} + \frac{5x^3}{3}  - \sin(x)}+C.
\]
\end{explanation}
\end{example}


\begin{warning}
While the sum rule for antiderivatives allows us to integrate
term-by-term, we cannot integrate \textit{factor-by-factor}, meaning
that in general
\[
\int f(x)g(x) \d x \ne \int f(x) \d x\cdot \int g(x) \d x.
\]
\end{warning}








\section{Computing antiderivatives}


Unfortunately, we cannot tell you how to compute every antiderivative.
We advise that the mathematician view antiderivatives as a sort of
\textit{puzzle}. Later we will learn a hand-full of techniques for
computing antiderivatives. However, a robust and simple way to compute
antiderivatives is guess-and-check.


%\begin{guessingAntiderivatives}\hfil
\paragraph{Tips for guessing antiderivatives}
\begin{enumerate}
\item Make a guess for the antiderivative.
\item Take the derivative of your guess.
\item Note how the above derivative is different from the function
  whose antiderivative you want to find.
\item Change your original guess by \textbf{multiplying} by constants
  or by \textbf{adding} in new functions.
\end{enumerate}
%\end{guessingAntiderivatives}

\begin{template}\label{template:powerchain}
If the indefinite integral looks \emph{something} like
\[
\int \mathrm{stuff}' \cdot (\mathrm{stuff})^n \d x
\]
guess
\[
\mathrm{stuff}^{n+1}
\]
where $n\ne -1$.
\end{template}

\begin{example}
  Compute:
  \[
  \int \frac{x^3}{\sqrt{x^4 -6}} \d x
  \]
  \begin{explanation}
    Start by rewriting the indefinite integral as
    \[
    \int x^3\left(x^4 -6\right)^{-1/2} \d x.
    \]
    Now start with a guess of 
    \[
    \int x^3\left(x^4 -6\right)^{-1/2} \d x \approx \left(x^4 -6\right)^{1/2}.
    \]
    Take the derivative of your guess to see if it is correct:
    \[
    \ddx  \left(x^4 -6\right)^{1/2} = (4/2)x^3\left(x^4 -6\right)^{-1/2}.
    \]
    We're off by a factor of $2/4$, so multiply our guess by this constant
    to get the solution,
    \[
    \int \frac{x^3}{\sqrt{x^4 -6}} \d x = \answer[given]{(2/4)(x^4 -6)^{1/2}}+C.
    \]
\end{explanation}
\end{example}


\begin{template}\label{template:echain}
If the indefinite integral looks \emph{something} like
\[
\int \mathrm{junk}\cdot e^{\mathrm{stuff}} \d x
\]
guess
\[
e^{\mathrm{stuff}} \text{ or }\mathrm{junk} \cdot e^{\mathrm{stuff}}.
\]
\end{template}


\begin{example}
Compute:
\[
\int xe^{x} \d x
\]
\begin{explanation}
We try to guess the antiderivative. Start with a guess of
\[
\int xe^x \d x \approx xe^x.
\]
Take the derivative of your guess to see if it is correct:
\[
\ddx xe^x = e^x + xe^x.
\]
Ah! So we need only subtract $e^x$ from our original guess.  We now
find
\[
\int xe^x \d x =\answer[given]{xe^x - e^x} + C.
\]
\end{explanation}
\end{example}





\begin{template}\label{template:lnchain}
If the indefinite integral looks \emph{something} like
\[
\int \frac{\mathrm{stuff}'}{\mathrm{stuff}}\d x
\]
guess
\[
\ln(\mathrm{stuff}).
\]
\end{template}

\begin{example}
Compute:
\[
\int \frac{2x^2}{7x^3 + 3} \d x
\]
\begin{explanation}
We'll start with a guess of
\[
\int \frac{2x^2}{7x^3 + 3} \d x \approx \ln(7x^3+3).
\]
Take the derivative of your guess to see if it is correct:
\[
\ddx \ln(7x^3+3) = \frac{21x^2}{7x^3 + 3}.
\]
We are only off by a factor of $2/21$, so we need to multiply our
original guess by this constant to get the solution,
\[
\int \frac{2x^2}{7x^3 + 3} \d x = \answer[given]{(2/21)\ln(7x^3+3)}+C.
\]
\end{explanation}
\end{example}




\begin{template}\label{template:trigchain}
If the indefinite integral looks \emph{something} like
\[
\int \mathrm{junk}\cdot \sin(\mathrm{stuff}) \d x
\]
guess
\[
\cos(\mathrm{stuff}) \text{ or }\mathrm{junk}\cdot \cos(\mathrm{stuff}),
\]
likewise if you have 
\[
\int \mathrm{junk}\cdot \cos(\mathrm{stuff}) \d x
\]
guess
\[
\sin(\mathrm{stuff}) \text{ or }\mathrm{junk}
\cdot \sin(\mathrm{stuff}).
\]
\end{template}



\begin{example}
Compute:
\[
\int x^4\sin(3x^5+7) \d x
\]
\begin{explanation}
Here we simply try to guess the antiderivative. Start with a guess of
\[
\int x^4\sin(3x^5+7)\d x \approx \cos(3x^5+7).
\]
To see if your guess is correct, take the derivative of $\cos(3x^5+7)$,
\[
\ddx \cos(3x^5+7) = -15x^4\sin(3x^5+7).
\]
We are off by a factor of $-1/15$. Hence we should multiply our
original guess by this constant to find
\[
\int x^4\sin(3x^5+7) \d x = \answer[given]{\frac{-\cos(3x^5+7)}{15}} + C.
\]
\end{explanation}
\end{example}





\section{Final thoughts}
Computing antiderivatives is a place where insight and rote
computation meet. We cannot teach you a method that will always
work. Moreover, merely \emph{understanding} the examples above will
probably not be enough for you to become proficient in computing
antiderivatives. You must practice, practice, practice!




\end{document}
