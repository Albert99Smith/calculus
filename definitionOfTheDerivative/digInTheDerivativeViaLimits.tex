\documentclass{ximera}

\outcome{Use limits to find the slope of the tangent line at a point.}
\outcome{Understand the definition of the derivative at a point.}
\outcome{Compute the derivative of a function at a point.}
\outcome{Estimate the slope of the tangent line graphically.}
\outcome{Write the equation of the tangent line to a graph at a given point.}
\outcome{Recognize and distinguish between secant and tangent lines.}
\outcome{Recognize different notation for the derivative.}
\outcome{Recognize the the tangent line as a local approximation for a
  differentiable function.}

\input{../preamble.tex}

\title[Dig-In:]{The definition of the derivative} 

\begin{document}
\begin{abstract}
We compute the instantaneous growth rate by computing the limit of
average growth rates.
\end{abstract}
\maketitle


Given a function, it is often useful to know the rate at which the
function changes. To give you a feeling why this is true, consider the
following:
\begin{itemize}
\item If $s(t)$ represents the \dfn{position} of an object on a line (with respect to time), the rate of change gives
  the \dfn{velocity} of the object.
\item If $v(t)$ represents the \dfn{velocity} of an object with respect to
  time, the rate of change gives the \dfn{acceleration} of the object.
\item If $R(x)$ represents the revenue generated by selling $x$
  objects, the rate of change gives us the \dfn{marginal revenue},
  meaning the additional revenue generated by selling one additional
  unit. Note, there is an implicit assumption that $x$ is quite large
  compared to $1$.
\item If $C(x)$ represents the cost to produce $x$ objects, the rate
  of change gives us the \dfn{marginal cost}, meaning the
  additional cost generated by selling one additional unit. Again,
  there is an implicit assumption that $x$ is quite large compared to
  $1$.
\item If $P(x)$ represents the profit gained by selling $x$ objects,
  the rate of change gives us the \dfn{marginal profit}, meaning
  the additional cost generated by selling one additional unit. Again,
  there is an implicit assumption that $x$ is quite large compared to
  $1$.
\item The rate of change of a function can help us approximate a
  complicated function with a simple function.
\item The rate of change of a function can be used to help us solve
  equations that we would not be able to solve via other methods.
\end{itemize}

%% \begin{xarmaBoost}
%% What other examples can you find where one is interested in a ``rate
%% of change?''
%% \begin{freeResponse}
%% Answers will vary.
%% \end{freeResponse}
%% \end{xarmaBoost}


\section{From slopes of secant lines to slopes of tangent lines}

We've been computing average rates of change for a while now, 

\[
{\text{average rate of change=
    }}
\frac{\text{change in the function (output)}}{\text{change in the input 
   }}.
\]
\begin{comment}
%However, the question remains: Given a function that represents an
 how exactly does one find the function that will give the
instantaneous rate of change? Recall that the instantaneous rate of change
of a line is the slope of the line.  Hence the instantaneous rate of
change of a function is the slope of the tangent line. For now,
consider the following informal definition of a \textit{tangent line}:
\begin{quote}\index{tangent line}
Given a function $f$ and a number $a$ in the domain of $f$, if one can ``zoom in''
on the graph at $(a, f(a))$ sufficiently so that it appears to be a straight line,
then that line is the \dfn{tangent line} to $f(x)$ at the point $(a,f(a))$.
\end{quote}
We illustrate this informal definition with the following diagram:
\begin{image}
\begin{tikzpicture}
  \begin{axis}[
            domain=0:6, range=0:7,
            ymin=-.2,ymax=7,
            width=6in,
            height=2.5in, %% Hard coded height! Moreover this effects the aspect ratio of the zoom--sort of BAD
            axis lines=none,
          ]   
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(.8,1.6) (2.834,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(2.834,5) (4.166,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(1.2,1.6) (4.166,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(.8,1.6) (1.2,1.6)} \closedcycle; %% zoom fill

          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(3.3,3.6) (5.334,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(5.334,5) (6.666,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(3.7,3.6) (6.666,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(3.3,3.6) (3.7,3.6)} \closedcycle; %% zoom fill
          
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(3.7,2.4) (6.666,1)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(3.3,2.4) (3.7,2.4)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(3.3,2.4) (5.334,1)} \closedcycle; %% zoom fill          
          \addplot [draw=none, fill=background] plot coordinates {(5.334,1) (6.666,1)} \closedcycle; %% zoom fill
          

          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(.8,.4) (2.834,1)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(2.834,1) (4.166,1)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(1.2,.4) (4.166,1)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(.8,.4) (1.2,.4)} \closedcycle; %% zoom fill

          \addplot[very thick,penColor, smooth,domain=(0:1.833)] {-1/(x-2)};
          \addplot[very thick,penColor, smooth,domain=(2.834:4.166)] {3.333/(2.050-.3*x)-0.333}; %% 2.5 to 4.333
          %\addplot[very thick,penColor, smooth,domain=(5.334:6.666)] {11.11/(1.540-.09*x)-8.109}; %% 5 to 6.833
          \addplot[very thick,penColor, smooth,domain=(5.334:6.666)] {x-3}; %% 5 to 6.833
          
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1,1)};  %% point to be zoomed
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(3.5,3)};  %% zoomed pt 1
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(6,3)};  %% zoomed pt 2

          \addplot [->,textColor] plot coordinates {(0,0) (0,6)}; %% axis
          \addplot [->,textColor] plot coordinates {(0,0) (2,0)}; %% axis
          
          \addplot [textColor!50!background] plot coordinates {(.8,.4) (.8,1.6)}; %% box around pt
          \addplot [textColor!50!background] plot coordinates {(1.2,.4) (1.2,1.6)}; %% box around pt
          \addplot [textColor!50!background] plot coordinates {(.8,1.6) (1.2,1.6)}; %% box around pt
          \addplot [textColor!50!background] plot coordinates {(.8,.4) (1.2,.4)}; %% box around pt
          
          \addplot [textColor!50!background] plot coordinates {(2.834,1) (2.834,5)}; %% zoomed box 1
          \addplot [textColor!50!background] plot coordinates {(4.166,1) (4.166,5)}; %% zoomed box 1
          \addplot [textColor!50!background] plot coordinates {(2.834,1) (4.166,1)}; %% zoomed box 1
          \addplot [textColor!50!background] plot coordinates {(2.834,5) (4.166,5)}; %% zoomed box 1

          \addplot [textColor] plot coordinates {(3.3,2.4) (3.3,3.6)}; %% box around zoomed pt
          \addplot [textColor] plot coordinates {(3.7,2.4) (3.7,3.6)}; %% box around zoomed pt
          \addplot [textColor] plot coordinates {(3.3,3.6) (3.7,3.6)}; %% box around zoomed pt
          \addplot [textColor] plot coordinates {(3.3,2.4) (3.7,2.4)}; %% box around zoomed pt

          \addplot [textColor] plot coordinates {(5.334,1) (5.334,5)}; %% zoomed box 2
          \addplot [textColor] plot coordinates {(6.666,1) (6.666,5)}; %% zoomed box 2
          \addplot [textColor] plot coordinates {(5.334,1) (6.666,1)}; %% zoomed box 2
          \addplot [textColor] plot coordinates {(5.334,5) (6.666,5)}; %% zoomed box 2

          \node at (axis cs:2.2,0) [anchor=east] {$x$};
          \node at (axis cs:0,6.6) [anchor=north] {$y$};
        \end{axis}
\end{tikzpicture}
%% \caption{Given a function $f$, if one can ``zoom in'' at $(a, f(a))$
%% sufficiently so that the graph seems to be a straight line,
%% then that line is the \textbf{tangent line} to $f$ at the point
%% determined by $(a, f(a))$.}
%% \label{figure:informal-tangent}
\end{image}
%% \todo{This image should be interactive.}

\end{comment}

More specifically, the average rate of change of a function $f$ is given by
\[
{\text{average rate of change of  $f$ }}
=\frac{f(x)-f(a)}{x-a},
\]
as the input changes from $a$ to $x$.
\begin{comment}
\begin{image}
\begin{tikzpicture}
	
          \begin{axis}[
            clip=false, domain=0:2.5, axis lines =middle, xlabel=$x$,
            ylabel=$y$, every axis y label/.style={at=(current
              axis.above origin),anchor=south}, 
             width=4in,
          ticks=none ]   
                             \addplot [very thick, penColor,smooth] {(x-1)^2 };
      
       \addplot[decoration={brace,mirror,raise=.06cm},decorate,thin] plot coordinates
                       {(2,0.45) (2,1)};
                         \addplot[decoration={brace,mirror,raise=.06cm},decorate,thin] plot coordinates
                       {(1.65,0.45) (2,0.45)};
           \node at (axis cs:0,-0.1) {$0$};
             \addplot [very thick,penColor2,->]  plot coordinates {(2,0.45) (2,1)};
             \addplot [very thick,penColor4,->]  plot coordinates {(1.65,0.45) (2,0.45)};
              \addplot [very thick,penColor, dashed]  plot coordinates {(1.65,0) (1.65,0.45)};
               \addplot[only marks,very thick,penColor,mark=*]
	        coordinates{(1.65,0.45)};
	        \addplot[only marks,very thick,penColor,mark=*]
	        coordinates{(2,1)};
              % \addplot [very thick,penColor2]  plot coordinates {(1,16) (1,24)};
              \addplot [very thick,penColor, dashed]  plot coordinates {(2,0) (2,0.45)};
               \node at (axis cs:1.8,0.35) {$\Delta x$ };
    
                \node at (axis cs:2.5,0.71) {$\Delta y=f(x)-f(a)$ };
               \node at (axis cs:1.65,-0.1) {$a$ };
                \node at (axis cs:1.2,1.8) {average rate of change $=\frac{\Delta y}{\Delta x}=\frac{f(x)-f(a)}{x-a}$ };
               \node at (axis cs:2,-0.1) {$x$ };
                 \node at (axis cs:2.3,1) {$(x,f(x))$ };
                  \node at (axis cs:1.35,0.45) {$(a,f(a))$ };
        \end{axis}
\end{tikzpicture}
\end{image}
\end{comment}
 \begin{image}
\begin{tikzpicture}
  \begin{axis}[
      domain=0:3, range=0:6,ymax=6,ymin=0,
      axis lines =left, xlabel=$x$, ylabel=$y$,
      every axis y label/.style={at=(current axis.above origin),anchor=south},
      every axis x label/.style={at=(current axis.right of origin),anchor=west},
            xtick={1,1.666}, ytick={1,3},
            xticklabels={$a$,$x$}, yticklabels={$f(a)$,$f(x)$},
            axis on top,
    ]         
         % \addplot [penColor2!15!background, domain=(0:2)] {-3.348+4.348*x};
        %  \addplot [penColor2!32!background, domain=(0:2)] {-2.704+3.704*x};
        %  \addplot [very thick,penColor2, domain=(0:2)] {-1.994+2.994*x};         
        %  \addplot [penColor2!66!background, domain=(0:2)] {-1.326+2.326*x}; 
         % \addplot [penColor2!83!background, domain=(0:2)] {-0.666+1.666*x};
	  \addplot [textColor,dashed] plot coordinates {(1,0) (1,1)};
          \addplot [textColor,dashed] plot coordinates {(0,1) (1,1)};
          \addplot [textColor,dashed] plot coordinates {(0,3) (1.666,3)};
          \addplot [textColor,dashed] plot coordinates {(1.666,0) (1.666,3)};
          \addplot [very thick,penColor, smooth,domain=(0:1.833)] {-1/(x-2)};
            \addplot[decoration={brace,mirror,raise=.06cm},decorate,thin] plot coordinates
                       {(1,0.95) (1.666,0.95)};
                         \addplot[decoration={brace,mirror,raise=.06cm},decorate,thin] plot coordinates
                       {(1.67,1) (1.67,3)};

          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1.666,3)};  %% closed hole          
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1,1)};  %% closed hole          
         % \addplot [very thick,penColor2, smooth,domain=(0:2)] {x};
          \addplot [very thick,penColor2,->]  plot coordinates {(1.666,1) (1.666,3)};
             \addplot [very thick,penColor4,->]  plot coordinates {(1,1) (1.666,1)};
              \node at (axis cs:0,-0.1) {$0$};
               \node at (axis cs:1.35,0.5) {$\Delta x$ };
    
                \node at (axis cs:1.77,1.9) {$\Delta y$ };
                      \node at (axis cs:1.2,5) {$=\frac{\Delta y}{\Delta x}=\frac{f(x)-f(a)}{x-a}$ };
                       \node at (axis cs:0.5,5.15) {average rate};
                       \node at (axis cs:0.447,4.84){of change};
                        \node[color=penColor] at (axis cs:1.794,3.8){\large$f$};
        \end{axis}
\end{tikzpicture}
\end{image}

What happens if we compute the average rate of change of $f$  for each value of $x$ as $x$ gets closer and closer to $a$? In other words, what is the meaning of the limit
\[
     \lim_{x\to a} \frac{f(x)-f(a)}{x-a},
    \] 
    if the limit exists?
    
Naturally, we call this limit the \textbf{instantaneous rate of change} of the function $f$ at the point $a$.
%The \textit{derivative} of a function $f$ at $a$, is the instantaneous
%rate of change, and hence is the slope of the tangent line at $(a,f(a))$. 

We will arrive at the same limit within a completely different context. Look at the figure below.
The figure depicts a  line  through the points $(a,f(a))$ and $(x,f(x))$ that lie on the graph of $f$.
\begin{comment}
\begin{image}
\begin{tikzpicture}
	
          \begin{axis}[
            clip=false, domain=0:2.5, axis lines =middle, xlabel=$x$,
            ylabel=$y$, every axis y label/.style={at=(current
              axis.above origin),anchor=south}, 
             width=4in,
          ticks=none ]   
                             \addplot [thick, penColor,smooth] {(x-1)^2 };
      
     
                     
           \node at (axis cs:0,-0.1) {$0$};
        
           
               \addplot[only marks,very thick,penColor,mark=*]
	        coordinates{(1.65,0.43)};
	        \addplot[only marks,very thick,penColor,mark=*]
	        coordinates{(2,1)};
              % \addplot [very thick,penColor2]  plot coordinates {(1,16) (1,24)};
            
                \addplot [ thick,penColor3]  plot coordinates {(1.394,0) (2.5,1.825)};
           
	        \addplot[only marks,very thick,penColor,mark=*]
	        coordinates{(2,1)};
               
      \addplot[only marks,penColor,mark=*]
	        coordinates{(2,0)};
            \addplot[only marks,penColor,mark=*]
	        coordinates{(1.65,0)};

               \node at (axis cs:1.65,-0.1) {$a$ };
                \node at (axis cs:1.2,1.8) {slope of the secant line $=\frac{\Delta y}{\Delta x}=\frac{f(x)-f(a)}{x-a}$ };
               \node at (axis cs:2,-0.1) {$x$ };
                 \node at (axis cs:2.3,1) {$(x,f(x))$ };
                  \node at (axis cs:1.4,0.45) {$(a,f(a))$ };
                   \node at (axis cs:2.6,1.5) { secant line  };
        \end{axis}
\end{tikzpicture}
\end{image}
\end{comment}
\begin{image}
\begin{tikzpicture}
  \begin{axis}[
      domain=0:2, range=0:6,ymax=6,ymin=0,
      axis lines =left, xlabel=$x$, ylabel=$y$,
      every axis y label/.style={at=(current axis.above origin),anchor=south},
      every axis x label/.style={at=(current axis.right of origin),anchor=west},
            xtick={1,1.666}, ytick={1,3},
            xticklabels={$a$,$x$}, yticklabels={$f(a)$,$f(x)$},
            axis on top,
    ]         
         % \addplot [penColor2!15!background, domain=(0:2)] {-3.348+4.348*x};
        %  \addplot [penColor2!32!background, domain=(0:2)] {-2.704+3.704*x};
          \addplot [very thick,penColor2, domain=(0:2)] {-1.994+2.994*x};         
        %  \addplot [penColor2!66!background, domain=(0:2)] {-1.326+2.326*x}; 
         % \addplot [penColor2!83!background, domain=(0:2)] {-0.666+1.666*x};
	  \addplot [textColor,dashed] plot coordinates {(1,0) (1,0.2)};
          \addplot [textColor,dashed] plot coordinates {(0,1) (1,1)};
          \addplot [textColor,dashed] plot coordinates {(0,3) (1.666,3)};
          \addplot [textColor,dashed] plot coordinates {(1.666,0) (1.666,0.2)};
          \addplot [very thick,penColor, smooth,domain=(0:1.833)] {-1/(x-2)};
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1.666,3)};  %% closed hole          
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1,1)};  %% closed hole          
         % \addplot [very thick,penColor2, smooth,domain=(0:2)] {x};
        %  \addplot [very thick,penColor2,->]  plot coordinates {(1.666,1) (1.666,3)};
            % \addplot [very thick,penColor4,->]  plot coordinates {(1,1) (1.666,1)};
               \node at (axis cs:0.4,4.85) { secant line};
                 \node at (axis cs:0.42,5.15) {slope of the};
              \node at (axis cs:1.2,5) {$=\frac{\Delta y}{\Delta x}=\frac{f(x)-f(a)}{x-a}$ };
                \node at (axis cs:0.8,1.35) { $(a,f(a))$};
                  \node at (axis cs:1.81,2.5) { $(x,f(x))$};
                   \node[color=penColor] at (axis cs:1.89,4.6){\large$f$};
        \end{axis}
\end{tikzpicture}
\end{image}
The slope of this secant line is equal to $\frac{f(x)-f(a)}{x-a}$! 

Recall: this is the expression for the average rate of change of $f$ as the input changes from $a$ to $x$!
Therefore,

\[
{\text{slope of secant line $=$}}{\text{ average rate of change.}}
\]
As before, we can ask ourselves: What happens as $x$ gets closer and closer to $a$?
 In other words,
   what is the meaning of the limit of slopes of secant lines through the points $(a,f(a))$ and $(x,f(x))$ as $x$ gets closer and closer to $a$?
   
    How can we interpret the limit  
    \[
     \lim_{x\to a} \frac{f(x)-f(a)}{x-a},
    \] 
    if the limit exists?
    
    This scenario is illustrated in the figure below. What happens as $x\to a$?
    \begin{image}
\begin{tikzpicture}
  \begin{axis}[
      domain=0:2, range=0:6,ymax=6,ymin=0,
      axis lines =left, xlabel=$x$, ylabel=$y$,
      every axis y label/.style={at=(current axis.above origin),anchor=south},
      every axis x label/.style={at=(current axis.right of origin),anchor=west},
            xtick={1,1.666}, ytick={1,3},
            xticklabels={$a$,$x$}, yticklabels={$f(a)$,$f(x)$},
            axis on top,
    ]         
          \addplot [penColor2!15!background, domain=(0:2)] {-3.348+4.348*x};
          \addplot [penColor2!32!background, domain=(0:2)] {-2.704+3.704*x};
          \addplot [penColor2!49!background, domain=(0:2)] {-1.994+2.994*x};         
          \addplot [penColor2!66!background, domain=(0:2)] {-1.326+2.326*x}; 
          \addplot [penColor2!83!background, domain=(0:2)] {-0.666+1.666*x};
	  \addplot [textColor,dashed] plot coordinates {(1,0) (1,1)};
          \addplot [textColor,dashed] plot coordinates {(0,1) (1,1)};
          \addplot [textColor,dashed] plot coordinates {(0,3) (1.666,3)};
          \addplot [textColor,dashed] plot coordinates {(1.666,0) (1.666,3)};
          \addplot [very thick,penColor, smooth,domain=(0:1.833)] {-1/(x-2)};
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1.666,3)};  %% closed hole          
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1,1)};  %% closed hole          
          \addplot [very thick,penColor2, smooth,domain=(0:2)] {x};
        \end{axis}
\end{tikzpicture}
\end{image}
The figure suggests that "the limit of slopes of secant lines" is the "slope of the \textbf{tangent line}" to the curve $y=f(x)$ at the point $(a,f(a))$.


Obviously, the limit
 \[
     \lim_{x\to a} \frac{f(x)-f(a)}{x-a},
    \] 
    has many different interpretation, depending on the context, such as the slope of the tangent line, the  instantaneous rate of change, and the instantaneous velocity.
    
    Therefore, it deserves a special name that could be used in all different interpretations.
    \begin{definition}
  The \dfn{derivative} of $f$ at $a$, $f'(a)$, is given by
  \[
 f'(a) = \lim_{x\to a} \frac{f(x) - f(a)}{x-a},
  \]
  if this limit exists. We say that $f$ is \dfn{differentiable}
  at $a$, if  this limit  exists. Otherwise,  we say that  $f$ is \dfn{non-differentiable} at $a$.
\end{definition}

            \begin{question}
            Let $f$ be a function given by $f(x) = 4x-3$.
	What is the instantaneous rate of change of $f$ at $a$, where $a$ is any real number?
	\begin{hint}
		The rate of change is given by $f'(a)$, and so is the slope of the tangent line to the curve $y=f(x)$ at the point $(a,f(a))$.
	\end{hint}
	\begin{hint}
		The line tangent to the curve $y=f(x) = 4x-3$, is simply the curve itself!
	\end{hint}
	\begin{prompt}
		The derivative is the slope of the line $y= 4x-3$! Therefore,  $f'(a)=\answer{4}$, for all real numbers $a$.
	\end{prompt}
\end{question}


But, most functions are not linear, and  their graphs are not  straight lines.  Therefore, the computation of the derivative is not as simple as in the previous example.

\begin{example}
	Let $f(x) = 2x^2+3$.
	
	 Find the slope of the tangent line to the curve $y=f(x)$ at the point $(2,f(2))$.
			\begin{explanation}
		Start with the definition of the derivative,
		\[
 f'(2) = \lim_{x\to 2} \frac{f(x) - f(2)}{x-2}.
  \]
		Replace $f$ with its formula,
		\[
 f'(2) = \lim_{x\to 2} \frac{2x^2+3 - 11}{x-2}.
  \]
		Simplify the numerator,
				\[
 f'(2) = \lim_{x\to 2} \frac{2x^2-8}{x-2}.
  \]

		Factor the numerator,
			
				\[
 f'(2) = \lim_{x\to 2} \frac{2(x^2-4)}{x-2}=\lim_{x\to 2} \frac{2\cancel{(x-2)}(x+2)}{\cancel{x-2}}.
  \]
  Compute the limit,
			\[
 f'(2) =\lim_{x\to 2}(x+2)=\answer[given]{4}.
  \]

	\end{explanation}
	\begin{example}
	Let $f(x) = \frac{1}{3-x}$.
  Find an equation for the line tangent to the curve $y=f(x)$ at the point $(2, 1)$.
  \begin{explanation}
    To find an equation for a line, we need two pieces of information.  We need to know
    a point on the line, and we need to know the slope of the line.  In this question, we are given
    that  the point $(2,1)$ is on the line.  So, we need to find the slope of the tangent line.
    Finding the slope of the tangent line at the point $(2,1)$ means finding $f'(2)$.
    
    Start by writing out the definition of the derivative,
    \[
    f'(2) = \lim_{x\to 2} \frac{f\left(\answer[given]{x}\right)-f\left(2\right)}{x-2} = \lim_{x\to 2} \frac{\frac{1}{3-x}-1}{x-2}.
    \]
    Multiply by $\frac{3-x}{3-x}$ to clear the fraction in the numerator,
    \[
    f'(2) = \lim_{x\to 2} \frac{1 - \left(\answer[given]{3-x}\right)}{(x-2)(3-x)}.
    \]
    Combine like-terms in the numerator,
    \[
    f'(2) = \lim_{x\to 2} \frac{\cancel{x-2}}{\cancel{(x-2)}(3-x)},
    \]
    	
    Take the limit as $x$ goes to $2$,
    \[
    f'(2)= \lim_{x\to 2} \frac{1}{3-x} = \answer[given]{1}.
    \]
    We are looking for an equation of the line through the point
    $(2,1)$ with slope $m = f'(2) = 1$.  The point-slope formula tells
    us that the line has equation given by
    \[
    y-1= \answer[given]{x-2 },
    \]
    or $y=x-1$.
  \begin{onlineOnly}
  We can confirm our results by looking at the graph of $y=f(x)$ and the line $y=x-1$. 
  \begin{image}
\begin{tikzpicture}
	
          \begin{axis}[
            clip=false, domain=0:2.5, axis lines =middle, xlabel=$x$,
            ylabel=$y$, every axis y label/.style={at=(current
              axis.above origin),anchor=south}, 
             width=4in,
          xtick={1,2}, ytick={1,3}, ]   
                             \addplot [very thick, penColor,smooth] {1/(3-x) };
                 \node at (axis cs:0,-0.1) {$0$};
	        \addplot[only marks,very thick,penColor,mark=*]
	        coordinates{(2,1)};
              % \addplot [very thick,penColor2]  plot coordinates {(1,16) (1,24)};
            
                \addplot [ thick,penColor3]  plot coordinates {(0,-1) (2.5,1.5)};
           
	        \addplot[only marks,very thick,penColor,mark=*]
	        coordinates{(2,1)};
             \addplot[only marks,penColor,mark=*]
	        coordinates{(2,1)};
                       \node at (axis cs:1.2,1.8) {equation of the tangent line: $y=x-1$ };
                  \node at (axis cs:2.2,0.85) {$(2,f(2))$ };
                   \node[blue] at (axis cs:0.3,0.6) {\huge$f$ };
                   \node at (axis cs:0.82,-.5) { tangent line  };
        \end{axis}
\end{tikzpicture}
\end{image}

  \end{onlineOnly}
  \end{explanation}
\end{example}


\end{example}
Now we will give a number of examples.
\begin{example}
  If $f(x) = x^2-2x$, find the derivative of $f$ at $2$ using the $h\to0$
  characterization.
  \begin{explanation}
    Start with the definition of the derivative,
    \[
    \eval{\ddx f(x)}_{x=2} = \lim_{h\to 0} \frac{f\left(\answer[given]{2+h}\right)-f\left(2\right)}{h}.
    \] 
     Now substitute in for the function we know,
    \[
    \eval{\ddx f(x)}_{x=2} = \lim_{h\to 0}\frac{\answer[given]{(2+h)^2-2(2+h)} -0}{h}.
    \]
    Now expand the numerator of the fraction,
    \[
    \eval{\ddx f(x)}_{x=2} = \lim_{h\to 0} = \frac{4+4h+h^2-4-2h }{h}.
    \]
    Now combine like-terms,
    \[
    \eval{\ddx f(x)}_{x=2} = \lim_{h\to 0}\frac{2h+h^2}{h}.
    \]
    Factor an $h$ from every term in the numerator,
    \[
    \eval{\ddx f(x)}_{x=2} = \lim_{h\to 0}\frac{h\left(\answer[given]{2+h}\right)}{h}.
    \]
    Cancel $h$ from the numerator and denominator,
    \[
    \eval{\ddx f(x)}_{x=2} = \lim_{h\to 0}\answer[given]{2+h}. 
    \]
    Take the limit as $h$ goes to $0$,
    \[
    \eval{\ddx f(x)}_{x=2} = \answer[given]{2}.
    \]
    \begin{onlineOnly}
    For your viewing pleasure, we have below the graph of $y=f(x)$ and the graph of the tangent line at the point $x=2$. 
    \[
    \graph[xmin=-2,xmax=6,ymin=-6,ymax=6]{x^2-2x, 2(x-2)}
    \]
    \end{onlineOnly}
\end{explanation}
\end{example}


Suppose the difference between $x$ and $a$ is some small number $h$.  That
is $x-a=h$ or $x=a+h$.  Substituting this in to our slope formula gives us
an alternate characterization of the slope of a secant line.
\[
\frac{\Delta y}{\Delta x} = \frac{f(a+h)-f(a)}{(a+h)-a} = \frac{f(a+h)-f(a)}{h}.
\]

\begin{example}
  If $f(x) = x^2-2x$, find the slope of the secant line through $x=2$ and $x=2+h$, in terms of $h$.
  \begin{explanation}
    Start with the slope formula we just found,
    \[
    \frac{\Delta y}{\Delta x} = \frac{f\left(\answer[given]{2+h}\right)-f\left(2\right)}{\answer[given]{h}}.
    \]
    Now substitute in for the function we know,
    \[
    \frac{\Delta y}{\Delta x} = \frac{\answer[given]{(2+h)^2-2(2+h)} -0}{h}.
    \]
    Now expand the numerator of the fraction,
    \[
    \frac{\Delta y}{\Delta x} = \frac{4+4h+h^2-4-2h }{h}.
    \]
    Now combine like-terms,
    \[
    \frac{\Delta y}{\Delta x} = \frac{2h+h^2}{h}.
    \]
    Factor an $h$ from every term in the numerator,
    \[
    \frac{\Delta y}{\Delta x} = \frac{h\left(\answer[given]{2+h}\right)}{h}.
    \]
    Cancel $h$ from the numerator and denominator,
    \[
    \frac{\Delta y}{\Delta x} = \answer[given]{2+h}. 
    \]
  \end{explanation}
\end{example}



The following diagram shows the secant lines for several values of
$h$, as well as the tangent line at $(a,f(a))$.

\begin{image}
\begin{tikzpicture}
  \begin{axis}[
      domain=0:2, range=0:6,ymax=6,ymin=0,
      axis lines =left, xlabel=$x$, ylabel=$y$,
      every axis y label/.style={at=(current axis.above origin),anchor=south},
      every axis x label/.style={at=(current axis.right of origin),anchor=west},
            xtick={1,1.666}, ytick={1,3},
            xticklabels={$a$,$a+h$}, yticklabels={$f(a)$,$f(a+h)$},
            axis on top,
    ]         
          \addplot [penColor2!15!background, domain=(0:2)] {-3.348+4.348*x};
          \addplot [penColor2!32!background, domain=(0:2)] {-2.704+3.704*x};
          \addplot [penColor2!49!background, domain=(0:2)] {-1.994+2.994*x};         
          \addplot [penColor2!66!background, domain=(0:2)] {-1.326+2.326*x}; 
          \addplot [penColor2!83!background, domain=(0:2)] {-0.666+1.666*x};
	  \addplot [textColor,dashed] plot coordinates {(1,0) (1,1)};
          \addplot [textColor,dashed] plot coordinates {(0,1) (1,1)};
          \addplot [textColor,dashed] plot coordinates {(0,3) (1.666,3)};
          \addplot [textColor,dashed] plot coordinates {(1.666,0) (1.666,3)};
          \addplot [very thick,penColor, smooth,domain=(0:1.833)] {-1/(x-2)};
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1.666,3)};  %% closed hole          
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1,1)};  %% closed hole          
          \addplot [very thick,penColor2, smooth,domain=(0:2)] {x};
        \end{axis}
\end{tikzpicture}
\end{image}
%\todo{This image should be interactive.}


Notice that as $a+h$ approaches $a$, the slopes of the secant lines are approaching
the slope of the tangent line.  This leads to the \textit{definition of the derivative}:

\begin{definition}
  The \dfn{derivative} of $f$ at $a$ is 
  \[
  \eval{\ddx f(x)}_{x=a} = \lim_{h\to 0} \frac{f(a+h) - f(a)}{h}.
  \]
  If this limit exists, then we say that $f$ is \dfn{differentiable}
  at $a$.  If this limit does not exist for a given value of $a$, then
  $f$ is \dfn{non-differentiable} at $a$.
\end{definition}



\begin{question} 
    Which of the following computes the derivative, $\eval{\ddx f(x)}_{x=a}$?
    \begin{selectAll}
      \choice{$\lim_{h\to 0}\frac{(f(a)+h) - f(a)}{(a+h)-a}$}
      \choice[correct]{$\lim_{h\to 0}\frac{f(a+h) - f(a)}{(a+h)-a}$}
      \choice{$\lim_{h\to 0}\frac{(f(a)-h) - f(a)}{(a-h)-a}$}
      \choice[correct]{$\lim_{h\to 0}\frac{f(a-h) - f(a)}{(a-h)-a}$}
      \choice{$\lim_{h\to 0}\frac{f(a) - (f(a)+h)}{a-(a+h)}$}
      \choice[correct]{$\lim_{h\to 0}\frac{f(a) - f(a+h)}{a-(a+h)}$}
      \choice{$\lim_{h\to 0}\frac{f(a) - (f(a)-h)}{a-(a-h)}$}
      \choice[correct]{$\lim_{h\to 0}\frac{f(a) - f(a-h)}{a-(a-h)}$}
    \end{selectAll}
\end{question}

Recalling our original characterization of the slope of the secant line
between $a$ and $x$ which is near by to $a$.  We see that we could also
calculate the derivative of a function by letting $x$ go to $a$.  This 
gives us the following definition:

\begin{definition}
	The \dfn{derivative} of $f$ at $a$ is
	\[
	\eval{\ddx f(x)}_{x=a} = \lim_{x\to a} \frac{f(x) - f(a)}{x-a}.
	\]
\end{definition}


\begin{definition}\index{derivative!notation}
  There are several different notations for the derivative.  The two we'll mainly be using are
  \[
  \eval{\ddx f(x)}_{x=a} = f'(a).
  \]
\end{definition}


\begin{example}
	Find the derivative of $f(x) = x^2+x+1$ at $x=-1$ using the $x\to a$
	characterization.
	\begin{explanation}
		Start with the definition of the derivative,
		\[
		f'(-1) = \lim_{x\to-1}\frac{f\left(x\right)-f\left(\answer[given]{-1}\right)}{x-(-1)}.
		\] 
		Replace $f$ with its formula,
		\[
		f'(-1) = \lim_{x\to-1}\frac{x^2+x+1 - 1}{x+1}.
		\]
		Simplify the top,
		\[
		f'(-1) = \lim_{x\to-1}\frac{x^2+x}{x+1}.
		\]
		Factor,
		\[
		f'(-1) = \lim_{x\to-1}\frac{x\left(\answer[given]{x+1}\right)}{x+1}.
		\]
		Cancel the $x+1$ in the numerator and denominator,
		\[
		f'(-1) = \lim_{x\to-1}x.
		\]
		The expression inside the limit is continuous everywhere, so
		evaluate the limit by plugging in,
		\[
		f'(-1) = \answer[given]{-1}.
		\]
	\end{explanation}
\end{example}

\begin{example}
  An object moving along a straight line has position given by
  $s(t) = \sqrt{t+3}$, where position is measured in meters and time in seconds.  Find the velocity of the object at time $t=6$.
  \begin{explanation}
    Velocity is the rate of change of displacement with respect to
    time.  We are being asked to find $\eval{\dd{t} s(t)}_{t=6}$.  The
    definition of the derivative gives
    \[
    \eval{\dd{t} s(t)}_{t=6} = \lim_{h \to 0} \frac{s\left(\answer[given]{t}\right)-s\left(6\right)}{t-6} = \lim_{t\to 6} \frac{\sqrt{\answer[given]{t+3}}-3}{t-6}.
    \]
    Multiply by $\frac{\sqrt{t+3}+3}{\sqrt{t+3}+3}$,
    \[
    \eval{\dd{t} s(t)}_{t=6} = \lim_{t\to 6} \left(\frac{\sqrt{t+3}-3}{t-6} \right)\left(\frac{\sqrt{t+3}+3}{\sqrt{t+3}+3} \right).
    \]		
    Now expand the numerator,
    \[
    \eval{\dd{t} s(t)}_{t=6} = \lim_{t \to 6} \frac{\answer[given]{t+3} - 9}{(t-6)\left(\sqrt{t+3}+3 \right)}.
    \]
    Combine like-terms,
    \[
    \eval{\dd{t} s(t)}_{t=6} = \lim_{t \to 6} \frac{\answer[given]{t-6}}{(t-6)\left(\sqrt{t+3}+3\right)}.
    \]
    Cancel $(t-6)$ from the numerator and denominator,
    \[
    \eval{\dd{t} s(t)}_{t=6} = \lim_{t\to 6} \frac{1}{\sqrt{t+3}+3}.
    \]
    Take the limit as $t$ goes to $6$,
    \[
    \eval{\dd{t} s(t)}_{t=6} = \answer[given]{\frac{1}{6}} \frac{m}{s}.
    \]
    The object has velocity $\answer[given]{\frac{1}{6}}$ $\frac{m}{s}$ at time $t=6$.
	\begin{onlineOnly}
	Below we can see the graph of $y=s(t)$ and the tangent line at $t=6$, with a slope of $\frac{1}{6}$. 
	\[
	\graph[xmin=-1,xmax=15,ymin=-8,ymax=8]{\sqrt{x+3}, \frac{1}{6}(x-6)+3}
	\]
	\end{onlineOnly}
	\end{explanation}
\end{example}







\end{document}
